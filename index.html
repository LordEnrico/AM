<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CM/ECF - JUDICIARY OF PENGINEERING</title>
  <link rel="stylesheet" href="styles.css">
  <script type="module" src="app.js" defer></script>
</head>
<body>
  <header>
    <div class="logo-container">
      <div>
        <h1>JUDICIARY OF PENGINEERING</h1>
        <h2>Case Management/Electronic Case Files</h2>
        <a href="pacer.html" class="pacer-link">Public Access (PACER)</a>
      </div>
    </div>
  </header>

  <div id="loginContainer" class="section">
    <div class="auth-message">
      WARNING: This is a restricted United States Judiciary of Pengineering computer system. 
      Unauthorized access or use of this system is strictly prohibited and may result in criminal prosecution.
    </div>
    
    <div class="login-form">
      <h3>Judicial Login</h3>
      <div class="form-group">
        <label for="username">Username:</label>
        <input type="text" id="username" required>
      </div>
      <div class="form-group">
        <label for="password">Password:</label>
        <input type="password" id="password" required>
      </div>
      <div id="loginError" class="error-message" style="display: none;"></div>
      <button onclick="authenticate()">Login to CM/ECF</button>
    </div>
  </div>

  <div id="mainContent" style="display: none;">
    <div class="nav-container">
      <div id="loggedInUser" class="logged-in-user" style="display:none">
        Current User: <span id="userName"></span>
        <button onclick="logout()">Logout</button>
      </div>
      
      <nav>
        <ul>
          <li><a href="javascript:showDocket()">Query/Reports</a></li>
          <li><a href="javascript:showFilingForm()">File a New Case</a></li>
        </ul>
      </nav>
    </div>

    <main>
      <div id="circuitSelection" class="section">
        <h3>Circuit Selection</h3>
        <select id="circuitSelect">
          <option value="first">First Circuit</option>
          <option value="second">Second Circuit</option>
          <option value="third">Third Circuit</option>
          <option value="special">Special Inquisitions</option>
        </select>
      </div>

      <div id="docketView" class="section" style="display:none">
        <h3>Case Query Results</h3>
        <table>
          <thead>
            <tr>
              <th>Case Number</th>
              <th>Case Title</th>
              <th>Filing Date</th>
              <th>Type</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="docketBody"></tbody>
        </table>
      </div>

      <div id="caseDetailView" class="section" style="display:none">
        <button onclick="showDocket()" class="back-button">‚Üê Back to Docket</button>
        <h3>Case Details: <span id="detailCaseNumber"></span></h3>
        
        <div class="tab-container">
          <button class="tab-button active" onclick="switchTab('docketInfo')">Docket Information</button>
          <button class="tab-button" onclick="switchTab('hearings')">Hearings</button>
          <button class="tab-button" onclick="switchTab('fees')">Fees/Assessments</button>
          <button class="tab-button" onclick="switchTab('defendant')">Defendant Information</button>
          <button class="tab-button" onclick="switchTab('bond')">Bond Information</button>
          <button class="tab-button" onclick="switchTab('jury')">Jury Information</button>
        </div>

        <div class="case-actions section">
          <h4>Case Actions</h4>
          <select id="caseStatusSelect">
            <option value="Active">Active</option>
            <option value="Closed">Closed</option>
            <option value="Dismissed">Dismissed</option>
            <option value="Stayed">Stayed</option>
            <option value="Pending">Pending</option>
            <option value="Under Advisement">Under Advisement</option>
            <option value="In Settlement">In Settlement</option>
          </select>
          <button onclick="window.updateCaseStatus(document.getElementById('detailCaseNumber').textContent, document.getElementById('caseStatusSelect').value)">Update Status</button>
          <button onclick="window.enterJudgment(document.getElementById('detailCaseNumber').textContent)">Enter Judgment</button>
        </div>

        <div id="docketInfo" class="tab-content active">
          <h4>Docket Information</h4>
          <div id="docketEntries"></div>
          <button onclick="addDocketEntry()">Add Docket Entry</button>
        </div>

        <div id="hearings" class="tab-content">
          <h4>Scheduled Hearings</h4>
          <div id="hearingsList"></div>
          <button onclick="scheduleHearing()">Schedule Hearing</button>
        </div>

        <div id="fees" class="tab-content">
          <h4>Fees and Assessments</h4>
          <div id="feesList"></div>
          <button onclick="addFee()">Add Fee/Assessment</button>
        </div>

        <div id="defendant" class="tab-content">
          <h4>Defendant Information</h4>
          <div id="defendantInfo"></div>
          <button onclick="editDefendantInfo()">Edit Information</button>
        </div>

        <div id="bond" class="tab-content">
          <h4>Bond Information</h4>
          <div id="bondInfo"></div>
          <button onclick="editBondInfo()">Edit Bond Information</button>
        </div>

        <div id="jury" class="tab-content">
          <h4>Jury Information</h4>
          <div id="juryInfo"></div>
          <button onclick="editJuryInfo()">Edit Jury Information</button>
        </div>

        <div id="appealSection" class="section" style="display:none">
          <h4>Appeal Actions</h4>
          <button onclick="initiateAppeal()">Send to Appeals Court</button>
        </div>
      </div>

      <div id="filingForm" class="section" style="display:none">
        <h3>Electronic Case Filing</h3>
        <form id="newCaseForm">
          <div class="form-group">
            <label>Case Type:</label>
            <select id="caseType" required>
              <option value="">Select Type</option>
              <option value="CV">Civil Case</option>
              <option value="GA">General Appeals</option>
              <option value="GJ">Grand Judiciary Appeals</option>
              <option value="FC">Felonious Criminal</option>
              <option value="LT">Landlord Tenant</option>
              <option value="AC">Capital Felon</option>
              <option value="MC">Misdemeanor</option>
              <option value="CI">Civil Infraction</option>
            </select>
          </div>

          <div class="form-group">
            <label>Case Title:</label>
            <input type="text" id="caseTitle" required>
          </div>

          <div class="form-group">
            <label>Plaintiff/Petitioner:</label>
            <input type="text" id="plaintiff" required>
          </div>

          <div class="form-group">
            <label>Defendant/Respondent:</label>
            <input type="text" id="defendant" required>
          </div>

          <div class="form-group">
            <label>Filing Document:</label>
            <input type="file" id="filingDoc" required>
          </div>

          <button type="submit">Submit Filing</button>
        </form>
      </div>
    </main>
  </div>

  <div id="modalOverlay" class="modal-overlay" style="display:none">
    <div class="modal-content">
      <h3 id="modalTitle"></h3>
      <div id="modalBody"></div>
      <div class="modal-buttons">
        <button onclick="submitModal()">Submit</button>
        <button onclick="closeModal()">Cancel</button>
      </div>
    </div>
  </div>

  <footer>
    <p>PACER Service Center - For Technical Support: (800) PEN-CTRL</p>
  </footer>

  <script>
    function switchTab(tabId) {
      // Hide all tab content
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Remove active class from all tab buttons
      document.querySelectorAll('.tab-button').forEach(button => {
        button.classList.remove('active');
      });
      
      // Show selected tab and activate its button
      document.getElementById(tabId).classList.add('active');
      document.querySelector(`button[onclick="switchTab('${tabId}')"]`).classList.add('active');
    }
  </script>
</body>
</html>